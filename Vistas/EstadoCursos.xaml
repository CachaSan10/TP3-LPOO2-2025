<Window x:Class="Vistas.EstadoCursos"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:ClasesBase.Entity;assembly=ClasesBase"
        Title="Estado de Cursos" 
        Height="550" 
        Width="700"
        WindowStartupLocation="CenterScreen" 
        Background="#f8f0ec"
        Loaded="Window_Loaded">

    <Window.Resources>
        <!-- Conversor de estados -->
        <local:ConversorDeEstados x:Key="ConversorEstados"/>

        <!-- Fuente de datos XML -->
        <XmlDataProvider x:Key="EstadosData" Source="Estados.xml" XPath="estados/estado"/>

        <!-- Colores locales -->
        <SolidColorBrush x:Key="ColorPrimarioLocal" Color="#a23b47"/>
        <SolidColorBrush x:Key="ColorOscuroLocal" Color="#600c0c"/>

        <!-- Gradiente local -->
        <LinearGradientBrush x:Key="GradienteLocal" StartPoint="0,1" EndPoint="1,0">
            <GradientStop Color="#a23b47" Offset="0"/>
            <GradientStop Color="#600c0c" Offset="1"/>
        </LinearGradientBrush>
    </Window.Resources>

    <Grid Margin="25">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="20"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="15"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="20"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="15"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="20"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- ENCABEZADO -->
        <Border Grid.Row="0" 
                Background="{StaticResource GradienteLocal}"
                CornerRadius="8"
                Padding="15">
            <Grid>
                <TextBlock Text="ESTADOS DE CURSOS" 
                          FontSize="26" 
                          FontWeight="Bold" 
                          Foreground="White"
                          VerticalAlignment="Center"
                          HorizontalAlignment="Center"/>
            </Grid>
        </Border>

        <!-- LABEL -->
        <TextBlock Grid.Row="2" 
                   Text="Seleccione un Estado del Curso:" 
                   FontSize="16" 
                   FontWeight="SemiBold"
                   Foreground="#600c0c"/>

        <!-- COMBOBOX -->
        <ComboBox Grid.Row="4" 
                  Name="cboEstados"
                  Height="40"
                  FontSize="15"
                  ItemsSource="{Binding Source={StaticResource EstadosData}}"
                  DisplayMemberPath="@name"
                  SelectedValuePath="@name"
                  Background="White"
                  BorderBrush="#a23b47"
                  BorderThickness="2"
                  Padding="10,5"/>

        <!-- LABEL INDICADOR -->
        <TextBlock Grid.Row="6" 
                   Text="Indicador Visual del Estado:" 
                   FontSize="16" 
                   FontWeight="SemiBold"
                   Foreground="#600c0c"/>

        <!-- RECTANGLE + DESCRIPCIÓN -->
        <Border Grid.Row="8" 
                BorderBrush="#a23b47" 
                BorderThickness="3"
                CornerRadius="10"
                Background="White"
                Padding="20"
                HorizontalAlignment="Center"
                VerticalAlignment="Center">
            <StackPanel Orientation="Vertical" 
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center">

                <Rectangle Width="250" 
                          Height="180"
                          Stroke="#600c0c"
                          StrokeThickness="2"
                          RadiusX="8"
                          RadiusY="8"
                          Fill="{Binding ElementName=cboEstados, 
                                         Path=SelectedValue, 
                                         Converter={StaticResource ConversorEstados}}">
                    <Rectangle.Effect>
                        <DropShadowEffect Color="Black" 
                                          Direction="320" 
                                          ShadowDepth="5" 
                                          BlurRadius="10" 
                                          Opacity="0.3"/>
                    </Rectangle.Effect>
                </Rectangle>

                <Border Background="#a23b47"
                       CornerRadius="5"
                       Padding="15,8"
                       Margin="0,15,0,0">
                    <TextBlock Name="txtEstadoSeleccionado"
                               FontSize="18"
                               FontWeight="Bold"
                               HorizontalAlignment="Center"
                               Foreground="White"
                               Text=""/>
                </Border>

                <TextBlock Name="txtDescripcion"
                          FontSize="13"
                          FontStyle="Italic"
                          HorizontalAlignment="Center"
                          Margin="0,10,0,0"
                          Foreground="#666666"
                          Text=""/>
            </StackPanel>
        </Border>

        <!-- BOTÓN -->
        <Button Grid.Row="10" 
                Name="btnCerrar" 
                Content="Cerrar" 
                Width="150" 
                Height="45"
                Background="#a23b47"
                Foreground="White"
                FontSize="16"
                FontWeight="Bold"
                BorderThickness="0"
                Cursor="Hand"
                Click="btnCerrar_Click"
                HorizontalAlignment="Center"/>
    </Grid>
</Window>
